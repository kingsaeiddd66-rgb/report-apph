<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ“‹ Ú¯Ø²Ø§Ø±Ø´ Ú©Ø§Ø± Ø±ÙˆØ²Ø§Ù†Ù‡</title>
<style>
body{background:#0f172a;color:#fff;font-family:Segoe UI,sans-serif;margin:0;padding:20px}
.container{max-width:800px;margin:auto}
.card{background:#1e293b;border-radius:16px;padding:20px;margin-bottom:20px;box-shadow:0 10px 30px rgba(0,0,0,.6)}
h1,h2{text-align:center;color:#22c55e;margin-bottom:15px}
input,select,textarea,button{width:100%;padding:12px;margin-top:10px;border-radius:10px;border:none;font-size:15px}
input,select,textarea{background:#0f172a;color:#fff;border:1px solid #334155}
button{background:#22c55e;color:#000;font-weight:bold;cursor:pointer}
button:hover{background:#16a34a}
table{width:100%;margin-top:15px;border-collapse:collapse}
th,td{padding:10px;border-bottom:1px solid #334155;text-align:center}
th{background:#22c55e;color:#000}
#status{text-align:center;margin-top:10px;font-weight:bold}
</style>
</head>
<body>

<div class="container">
  <div class="card">
    <h1>ğŸ“‹ Ú¯Ø²Ø§Ø±Ø´ Ú©Ø§Ø± Ø±ÙˆØ²Ø§Ù†Ù‡</h1>
    <input id="name" placeholder="Ù†Ø§Ù…">
    <input id="date" type="date">
    <input id="hours" type="number" placeholder="Ø³Ø§Ø¹Øª Ú©Ø§Ø±">
    <select id="category">
      <option value="">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ</option>
      <option>Ú©Ø§Ø±</option>
      <option>Ø¯Ø±Ø³</option>
      <option>ØªÙ…Ø±ÛŒÙ†</option>
      <option>Ù¾Ø±ÙˆÚ˜Ù‡ Ø´Ø®ØµÛŒ</option>
    </select>
    <textarea id="desc" placeholder="Ø´Ø±Ø­ Ú©Ø§Ø±"></textarea>
    <button onclick="submitReport()">Ø«Ø¨Øª Ú¯Ø²Ø§Ø±Ø´</button>
    <p id="status"></p>
  </div>

  <div class="card">
    <h2>ğŸ“Š Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§</h2>
    <table>
      <thead>
        <tr><th>Ù†Ø§Ù…</th><th>ØªØ§Ø±ÛŒØ®</th><th>Ø³Ø§Ø¹Øª</th><th>Ø¯Ø³ØªÙ‡</th><th>Ø´Ø±Ø­</th></tr>
      </thead>
      <tbody id="table"></tbody>
    </table>
  </div>
</div>

<script>
/* ğŸ”´ Ø¬Ø§ÛŒÚ¯Ø°Ø§Ø±ÛŒ Ú©Ù† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø®ÙˆØ¯Øª */
const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbwfpLg3h70VrGE2rgIdPSXcvtlwp-6tIDRQS9icwub9vn6sn6C9Xi_1j9J2049EsoFT/exec"; // Ù„ÛŒÙ†Ú© Web App Google Apps Script

function submitReport(){
  const nameEl = document.getElementById("name");
  const dateEl = document.getElementById("date");
  const hoursEl = document.getElementById("hours");
  const catEl = document.getElementById("category");
  const descEl = document.getElementById("desc");
  const statusEl = document.getElementById("status");

  if(!nameEl.value || !dateEl.value || !hoursEl.value || !catEl.value || !descEl.value){
    alert("Ù‡Ù…Ù‡ ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ùˆ Ù¾Ø± Ú©Ù†"); 
    return;
  }

  // Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø®Ù„ Ø¬Ø¯ÙˆÙ„
  document.getElementById("table").innerHTML +=
    `<tr><td>${nameEl.value}</td><td>${dateEl.value}</td><td>${hoursEl.value}</td><td>${catEl.value}</td><td>${descEl.value}</td></tr>`;

  // Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ Web App Google Apps Script
  fetch(WEB_APP_URL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      name: nameEl.value,
      date: dateEl.value,
      hours: hoursEl.value,
      category: catEl.value,
      desc: descEl.value
    })
  })
  .then(res => statusEl.innerText = "Ù¾ÛŒØ§Ù… Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯ âœ…")
  .catch(err => statusEl.innerText = "Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ù…ÙˆÙÙ‚ Ù†Ø¨ÙˆØ¯ âŒ");

  // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† ÙØ±Ù…
  nameEl.value=""; dateEl.value=""; hoursEl.value=""; catEl.value=""; descEl.value="";
}
</script>

</body>
</html>